#! node

// http://repl.it/0Fd

// PROBLEM //

/*
Triangle, pentagonal, and hexagonal numbers are generated by the following formulae:

Triangle	 	Tn=n(n+1)/2	 	1, 3, 6, 10, 15, ...
Pentagonal	 	Pn=n(3n−1)/2	 	1, 5, 12, 22, 35, ...
Hexagonal	 	Hn=n(2n−1)	 	1, 6, 15, 28, 45, ...
It can be verified that T285 = P165 = H143 = 40755.

Find the next triangle number that is also pentagonal and hexagonal.
*/

// ANSWER //

function getTriangleNumber(n) {
  return n * (n + 1) / 2;
}

function getPentagonalNumber(n) {
  return n * (3 * n - 1) / 2;
}

function getHexagonalNumber(n) {
  return n * (2 * n - 1);
}

function findNext() {
  var t = 285,
      tn = getTriangleNumber(t),
      p = 165,
      pn = getPentagonalNumber(p),
      h = 143,
      hn = getHexagonalNumber(h);

  while (true) {
    h++;
    hn = getHexagonalNumber(h);
    while (pn < hn) {
      p++;
      pn = getPentagonalNumber(p);
      while (tn < pn) {
        t++;
        tn = getTriangleNumber(t);
        if (tn == pn && pn == hn)
          return tn;
      }
    }
  }
}

var result = findNext();

console.log(result);

// 1533776805
